---
title       : Exploring the relationship between miles per gallon (MPG) and predictor variables 
subtitle    : Analysis of mtcars data
author      : Elizabeth
framework   : io2012        # {io2012, html5slides, shower, dzslides, ...}
highlighter : highlight.js  # {highlight.js, prettify, highlight}
hitheme     : tomorrow      # 
widgets     : []            # {mathjax, quiz, bootstrap}
mode        : selfcontained # {standalone, draft}
knit        : slidify::knit2slides
---

Executive Summary

The data was extracted from the 1974 Motor Trend US magazine, and comprises fuel consumption and 10 aspects of automobile design and performance for 32 automobiles (1973-74 models). 
Source: Henderson and Velleman (1981), Building multiple regression models interactively. Biometrics, 37, 391-411. 

```{r}
library(datasets);library(knitr)
```

Determine the structure of the data
```{r}
str(mtcars)
```

---  

EXPLORE THE DATA

First get descriptive statistics of all the variable. For numeric variable, the mean is calculated and for factor variable, the frequency is displayed

```{r}
library(plyr)
sum <- ddply(mtcars, c("am"), summarise,
               N    = length(mpg),
               mean = mean(mpg),
               sd   = sd(mpg),
               se   = sd / sqrt(N) )
sum
```

--- 
 
FITTING A MULTIPLE REGRESSION

First do residual analysis
```{r}
data(mtcars)
y <- mtcars$mpg; x <- mtcars$am; n <- length(y)
fit <- lm(y ~ x)
e <- resid(fit)
yhat <- predict(fit)
max(abs(e -(y - yhat)))
```

Secondly quantify the uncertainty and perform Confidence interval

```{r}
fit <- lm(y ~ x);
sumCoef <- summary(fit)$coefficients
sumCoef[1,1] + c(-1, 1) * qt(.975, df = fit$df) * sumCoef[1, 2]
```

--- 

Fitting the model
```{r results='hide'}
fitmodel = summary(lm(mpg~ am+wt+qsec, data=mtcars))
fitmodel
```

INTERPRETATION OF RESULTS

After fitting different models, the results show only weight(wt),qsec and transmission design have a signficant contribution to mileage per gallon. wt and qsec are significant at less than 0.001. The coefficient of weight(wt) is negative. This indicates increase weight by one more pound in 1000 will reduce mileage per gallon by 3.9165. This means more fuel is consumed when the weight is higher. qsec has a positive estimate indicating a positive relation with fuel consumption.
